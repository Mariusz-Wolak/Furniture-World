<aura:component description="FW_ProductView" controller="FW_ProductsController" implements="flexipage:availableForAllPageTypes,
 forceCommunity:availableForAllPageTypes">

    <aura:attribute name="product" type="Object" access="global"/>
    <aura:attribute name="commentText" type="String" access="global"/>
    <aura:attribute name="commentsList" type="Object[]" access="global"/>

    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>


    <div class="slds-grid">
        <div class="slds-col slds-size_1-of-12">
        </div>

        <div class="slds-col slds-size--6-of-12">
            <img src="{!v.product.DisplayUrl}"
                 alt=""/>
        </div>

        <div class="slds-col slds-size--5-of-12">
            <div class="productName">{!v.product.Name}</div>

            <div class="productFamily">{!v.product.Family}</div>

            <div class="productPrice">â‚¬{!v.product.Price__c}</div>

            <div class="rateProductText">Rate product:</div>
            <div class="slds-grid slds-align--absolute-center">
                <div class="slds-col slds-size--1-of-3">
                    <c:Rating/>
                </div>
            </div>

            <div class="productDescription">{!v.product.Description}</div>

            <div class="iconsDiv slds-grid slds-align--absolute-center">
                <div class="slds-col slds-size--3-of-12"/>

                <div class="observeDiv slds-col slds-size--4-of-12">
                    <lightning:icon aura:id="observeIcon" class="greyIcon observeIcon" iconName="action:preview" size="medium"
                                    alternativeText="Observe"
                                    title="Observe"
                                    onclick="{!c.toggleObserved}"/>
                </div>

                <div class="basketDiv slds-col slds-size--4-of-12">
                    <lightning:icon aura:id="basketIcon" class="greyIcon basketIcon" iconName="custom:custom93" size="large"
                                    alternativeText="Add to Basket"
                                    title="Add to Basket"
                                    onclick="{!c.toggleBasket}"/>
                </div>
            </div>
        </div>
    </div>

    <div class="commentsHeader">
        Comments
    </div>

    <div class="addCommentDiv" onkeypress="{!c.addComment}">
        <lightning:input value="{!v.commentText}" placeholder="{!$Label.c.Write_Your_Opinion_Here}"/>
    </div>

    <div>
        <aura:iteration items="{!v.commentsList}" var="comment">
            <div>
                    {!comment.Text__c}
            </div>
        </aura:iteration>
    </div>

    <c:FW_CustomToast aura:id="customToast"/>
</aura:component>
