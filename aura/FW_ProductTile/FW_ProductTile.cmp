<aura:component description="FW_ProductTile" controller="FW_ProductsController"
                implements="flexipage:availableForAllPageTypes,forceCommunity:availableForAllPageTypes" extensible="true">

    <aura:attribute name="item" type="Object" access="global" default="null"/>
    <aura:attribute name="observedIds" type="String[]" access="global"/>

    <aura:registerEvent name="selectedProduct" type="c:FW_SelectedProduct"/>

    <aura:handler name="init" value="{!this}" action="{!c.onInit}"/>
    <aura:handler name="observedProductsManagerEvent" event="c:FW_ObservedProductsManagerResponse" action="{!c.toggleObserveIcon}"/>

    <img src="{!v.item.DisplayUrl}"/>
    <h1 class="itemTitle" onclick="{!c.selectItem}">{!v.item.Name}</h1>
    <div class="slds-grid">
        <div class="slds-col slds-size_4-of-12">
            <h1 class="itemPrice">â‚¬{!v.item.Price__c}</h1>
        </div>

        <div class="slds-col slds-size_5-of-12"/>

        <div class="slds-col slds-size_3-of-12">
            <lightning:icon aura:id="observeIcon" class="greyIcon observeIcon" iconName="action:preview" size="xx-small"
                            alternativeText="Observe"
                            title="Observe"
                            onclick="{!c.toggleObserved}"/>
        </div>
    </div>

    <c:FW_ObservedProductsManager aura:id="observedProductsManager"/>
    <c:FW_CustomToast aura:id="customToast"/>
</aura:component>